-- Auto Farm Coin & EXP cho MM2 (tách từ Eclipse Hub style)
-- Toggle bằng cách set getgenv().AutoFarmCoins = false/true
-- GodMode giúp farm EXP bằng cách sống sót qua round để nhận XP

getgenv().AutoFarmCoins = true  -- Bật/Tắt farm coin
getgenv().GodMode = true       -- Bật GodMode để farm EXP

-- Farm Coin (TP + Collect tự động)
spawn(function()
    while wait(0.1) do
        if getgenv().AutoFarmCoins then
            for _, v in pairs(workspace:GetDescendants()) do
                if v.Name == "CoinContainer" and v:FindFirstChild("Coin_Server") and v.Coin_Server:FindFirstChild("Coin") then
                    local player = game.Players.LocalPlayer
                    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                        player.Character.HumanoidRootPart.CFrame = v.Coin_Server.Coin.CFrame * CFrame.new(0, 3, 0)
                        firetouchinterest(player.Character.HumanoidRootPart, v.Coin_Server.Coin, 0)
                        wait()
                        firetouchinterest(player.Character.HumanoidRootPart, v.Coin_Server.Coin, 1)
                    end
                end
            end
        end
    end
end)

-- GodMode (farm EXP an toàn)
local player = game.Players.LocalPlayer
local function applyGodMode(char)
    local humanoid = char:WaitForChild("Humanoid", 5)
    if humanoid then
        humanoid.MaxHealth = math.huge
        humanoid.Health = math.huge
    end
end

player.CharacterAdded:Connect(applyGodMode)
if player.Character then
    applyGodMode(player.Character)
end

print("✅ Auto Farm Coin & EXP MM2 loaded! Set getgenv().AutoFarmCoins = false để tắt.")
