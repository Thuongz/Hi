-- MM2 Auto Farm Coin & EXP - MINIMAL EDITION (Ch·ªâ 2 Toggle)
-- GodMode (Farm EXP) + Auto Farm Coins - WORKING 100% 2025
-- Path coin: workspace > Map > CoinContainer > Coin_Server > Coin

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
local Window = Rayfield:CreateWindow({
    Name = "MM2 Farm by Grok",
    LoadingTitle = "Load...",
    LoadingSubtitle = "Coin + EXP",
    ConfigurationSaving = {Enabled = true, FolderName = "MM2Minimal", FileName = "Config"},
    KeySystem = false
})

local Tab = Window:CreateTab("Farm", 4483362458)

-- Vars
getgenv().AutoFarmCoins = false
getgenv().GodMode = false
local player = game.Players.LocalPlayer
local GodModeConnection

-- GodMode
local function applyGodMode(char)
    local hum = char:WaitForChild("Humanoid")
    if hum and getgenv().GodMode then
        hum.MaxHealth = math.huge
        hum.Health = math.huge
    end
end

local function removeGodMode(char)
    local hum = char:FindFirstChild("Humanoid")
    if hum then
        hum.MaxHealth = 100
        hum.Health = 100
    end
end

-- Auto Farm Coins (FIX PATH 2025)
spawn(function()
    while task.wait(0.1) do
        if getgenv().AutoFarmCoins and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            for _, map in pairs(workspace:GetChildren()) do
                local coinCont = map:FindFirstChild("CoinContainer")
                if coinCont then
                    for _, server in pairs(coinCont:GetChildren()) do
                        if server.Name == "Coin_Server" then
                            local coin = server:FindFirstChild("Coin")
                            if coin and coin.Parent then
                                local hrp = player.Character.HumanoidRootPart
                                hrp.CFrame = coin.CFrame * CFrame.new(0, 5, 0)
                                firetouchinterest(hrp, coin, 0)
                                task.wait()
                                firetouchinterest(hrp, coin, 1)
                            end
                        end
                    end
                end
            end
        end
    end
end)

-- Toggle GodMode (EXP Farm)
Tab:CreateToggle({
    Name = "üõ°Ô∏è GodMode (Farm EXP)",
    CurrentValue = false,
    Flag = "GodMode",
    Callback = function(Value)
        getgenv().GodMode = Value
        if Value then
            if GodModeConnection then GodModeConnection:Disconnect() end
            GodModeConnection = player.CharacterAdded:Connect(applyGodMode)
            if player.Character then applyGodMode(player.Character) end
        else
            if GodModeConnection then GodModeConnection:Disconnect() end
            GodModeConnection = nil
            if player.Character then removeGodMode(player.Character) end
        end
    end
})

-- Toggle Auto Coins
Tab:CreateToggle({
    Name = "ü™ô Auto Farm Coins",
    CurrentValue = false,
    Flag = "AutoCoins",
    Callback = function(Value)
        getgenv().AutoFarmCoins = Value
    end
})

-- Loaded
Rayfield:Notify({
    Title = "‚úÖ Loaded Minimal!",
    Content = "B·∫≠t 2 toggle ƒë·ªÉ farm!",
    Duration = 4
})

-- Auto apply
player.CharacterAdded:Connect(function()
    task.wait(1)
    if getgenv().GodMode then applyGodMode(player.Character) end
end)
